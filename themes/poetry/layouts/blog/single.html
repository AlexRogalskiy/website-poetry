{{ define "main" }}
<main class="mt-36 max-w-5xl mx-auto pb-16 px-12 md:mt-36 md:px-24">
    <h1 class="with-meta">{{ .Title }}</h1>
    <div class="flex flex-col justify-start items-start mt-3 mb-12 text-xs tracking-wider uppercase md:flex-row">
        <span class="self-start md:self-center">
            Published on <strong>{{ .Date.Format "January 2, 2006" }}</strong>
        </span>
        <span class="self-start md:self-center md:ml-1">
            in
            <i class="fad fa-tags ml-1"></i>
            {{ range $i, $e := .Params.categories }}
            {{ if $i }}, {{ end }}
            <a href='{{ "/categories/" | relURL }}{{ . | urlize }}/'>{{ $e | humanize }}</a>
            {{ end }}
        </span>
        <span class="self-start md:self-center md:ml-1">
            <span class="mr-1">with tags</span>
            {{ range $i, $e := .Params.tags }}
            <a href='{{ "/tags/" | relURL }}{{ . | urlize }}/'>
                <span
                    class="inline-flex items-center self-center px-2 py-1 rounded text-xs font-medium transition duration-300 bg-blue-100 text-blue-800 hover:bg-blue-200">
                    <svg class="mr-1.5 h-2 w-2 text-blue-400" fill="currentColor" viewBox="0 0 8 8">
                        <circle cx="4" cy="4" r="3" />
                    </svg>
                    {{ $e | humanize }}
                </span>
            </a>
            {{ end }}
        </span>
    </div>
    {{- with .Content -}}
    {{ . | replaceRE "(<h[1-9] id=\"([^\"]+)\".+)(</h[1-9]+>)" `${1} <a href="#${2}" class="header-link"
            aria-label="Permanent link">#</a> ${3}` | safeHTML }}
        {{- end -}}
</main>
{{ end }}
